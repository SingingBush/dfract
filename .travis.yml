# travis now supports D and will run 'dub test' with multiple compilers
language: d

sudo: false
dist: trusty
group: edge

osx_image: xcode9

before_install:
 - "if [ ${TRAVIS_OS_NAME} = 'osx' ]; then brew update; fi"
 - "if [ ${TRAVIS_OS_NAME} = 'osx' ]; then brew bundle; fi"

d:
 - dmd
 - ldc
 - gdc

os:
 - linux
 - osx

addons:
  apt:
    sources:
      - sourceline: 'ppa:gnome3-team/gnome3'
    packages: [libcairo2, libpango, libgdk-pixbuf2.0, libgtk-3 ]
    
matrix:
  allow_failures:
    - d: gdc
#    - os: osx
